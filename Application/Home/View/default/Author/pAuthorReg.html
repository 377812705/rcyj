<extend name="Base/common"/>
<block name="head">
<script type="text/javascript" src="__JS__/jquery.validationEngine.min.js"></script>
<script type="text/javascript" src="__JS__/jquery.validationEngine-zh_CN.js"></script>
<link rel="stylesheet" href="__CSS__/validationEngine.jquery.css">
</block>
<block name="body"> 
		<!--------页面头部--------->
		<header class="container logo02">
				<div class="header-right">
						<ul>
								<li>已有账户，<a href="__ROOT__/Login/login.html">马上登录</a></li>
								<li class="gray">|</li>
								<li><a href="__ROOT__/Index.html">返回二次元界</a></li>
						</ul>
				</div>
		</header>
		<!--------登录页面内容部分--------->
		<div class="container register">
				<div class="retrieve personal">
						<ul class="nextnav">
							<eq name="isno" value="0">
								<li class="nextnavon"><a href="__ROOT__/Author/pAuthorReg/isno/{$isno}.html">个人作者注册</a></li>
								<li><a href="__ROOT__/Author/eAuthorReg/isno/{$isno}.html">企业作者注册</a></li>
								<else/>
							<li><a href="__ROOT__/Login/register.html">注册</a></li>
							<li class="nextnavon"><a href="__ROOT__/Author/pAuthorReg.html">个人作者注册</a></li>
							<li><a href="__ROOT__/Author/eAuthorReg.html">企业作者注册</a></li>
							<li><a href="__ROOT__/Custom/pCustomReg.html">个人订制注册</a></li>
							<li><a href="__ROOT__/Custom/eCustomReg.html">企业订制注册</a></li>
							</eq>
						</ul>
						<ul class="login-ul">
						<form action="/2cyj/author/pauthorreg" method="get" id="form">
								<li class="txt-input username"><span class="input-tle">用户名：</span>
										<input name="username" type="text" placeholder="用户名，4~16个字符，字母/中文/数字/下划线"  class="gray validate[required,minSize[4],maxSize[16]]" onclick="if(this.value=='用户名，4~16个字符，字母/中文/数字/下划线'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='用户名，4~16个字符，字母/中文/数字/下划线';this.className='gray'}">
										<span class="prompt">用户名是您唯一的名称注册后将不可修改，请您谨慎填写</span> </li>
								<li class="txt-input name"><span class="input-tle">姓名：</span>
										<input name="name" type="text" placeholder="请输入姓名"  class="gray validate[required]" onclick="if(this.value=='请输入姓名'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入姓名';this.className='gray'}">
								</li>
								<li class="txt-input phone"><span class="input-tle">手机号：</span>
										<input name="phone" id="mobile" type="text" placeholder="请输入手机号"  class="gray validate[required,custom[phone]]" onclick="if(this.value=='请输入手机号'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入手机号';this.className='gray'}">
								</li>
								<li class="txt-input address"><span class="input-tle">联系地址：</span>
										<input name="address" type="text" placeholder="请输入联系地址"  class="gray validate[required]" onclick="if(this.value=='请输入联系地址'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入联系地址';this.className='gray'}">
								</li>
								<li class="txt-input password"><span class="input-tle">密码：</span>
										<input name="password" type="password" placeholder="请输入密码"  class="gray validate[required]" onclick="if(this.value=='请输入密码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入密码';this.className='gray'}">
								</li>
								<li class="txt-input confirm"><span class="input-tle">&nbsp;</span>
										<input name="confirm" type="password" placeholder="请确认密码"  class="gray validate[required]" onclick="if(this.value=='请确认密码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请确认密码';this.className='gray'}">
								</li>
								<li class="txt-input idcard"><span class="input-tle">身份证号：</span>
										<input name="idcard" type="text" placeholder="请输入身份证号"  class="gray validate[custom[chinaIdLoose]]" onclick="if(this.value=='请输入身份证号'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入身份证号';this.className='gray'}">
								</li>
								<li class="txt-input bank"><span class="input-tle">开户行名称：</span>
										<input name="bank" type="text" placeholder="请输入开户行名称"  class="gray validate[required]" onclick="if(this.value=='请输入开户行名称'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入开户行名称';this.className='gray'}">
								</li>
								<li class="txt-input number"><span class="input-tle">银行卡账号：</span>
										<input name="number" type="text" placeholder="请输入银行卡账号"  class="gray validate[required]" onclick="if(this.value=='请输入银行卡账号'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入银行卡账号';this.className='gray'}">
								</li>
								<li class="txt-input mail"><span class="input-tle">邮箱地址：</span>
										<input name="mail" type="text" placeholder="请输入邮箱地址"  class="gray validate[custom[email]]" onclick="if(this.value=='请输入邮箱地址'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入邮箱地址';this.className='gray'}">
								</li>
								<li class="txt-input label"><span class="input-tle">标签：</span> <span class="label-span"><a href="javascript:;">请选择标签分类（可多选）</a>
										<ul class="label-check">
											<volist name="tag" id="v">
												<li log={$key}>{$v}</li>
											</volist>
											<input type="hidden" value="" name="tags" id="tags">	
										</ul>
										</span> </li>
								<li class="txt-input verify"><span class="input-tle">验证码：</span> 
									<span class="verify-span">
										<input name="verify" type="text" placeholder="请输入验证码"  class="gray validate[required]" onclick="if(this.value=='请输入验证码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入验证码';this.className='gray'}">
										<input name="sendcode" type="button" value="验证码" id="sendcode">
									</span> 
								</li>
								<li class="txt-input invite"><span class="input-tle">邀请码：</span>
										<input name="invite" type="text" placeholder="请确认邀请码"  class="gray" onclick="if(this.value=='请确认邀请码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请确认邀请码';this.className='gray'}">
										<span class="prompt">通过您的好友邀请，输入邀请码如没有邀请码则不用填写</span></li>
								<li class="auto">
										<input name="ready" type="checkbox" value="1" checked>
										<span></span>我已阅读并接受<a href="#">版权声明</a>和<a href="#">隐私保护</a>条款</li>
								<li class="txt-input">
										<input class="retrieve-btn" name="" type="button" value="马上注册">
								</li>
						</form>
						</ul>
				</div>
		</div>
		<!--------页面底部--------->
<script type="text/javascript">
$('.retrieve-btn').click(function(){
	$('#form').validationEngine(); 
	//勾选的标签赋值
	$('.label-check li').each(function(i,e){
		var tag_id = $('#tags').val();
		if($(e).attr('class') == 'checkon'){
			tag_id += $(e).attr('log')+ ',';
			alert(tag_id);
			$('#tags').val(tag_id);
		}
	});
	
	$('#form').submit();
})

//发送验证码
$("#sendcode").click(function(){
	var mcode=$("#mobile").val();
	if(mcode=="请输入手机号"){
		alert("请输入手机号");
	}else{
		$.post("__ROOT__/Login/sendCode", {mobile: mcode},
				function (data) {
					alert(data);
				});
	}


});
</script>
</block>
