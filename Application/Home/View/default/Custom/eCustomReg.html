<extend name="Base/common"/>
<block name="head">
<script type="text/javascript" src="__JS__/jquery.validationEngine.min.js"></script>
<script type="text/javascript" src="__JS__/jquery.validationEngine-zh_CN.js"></script>
<link rel="stylesheet" href="__CSS__/validationEngine.jquery.css">
<style>
*{ margin:0; padding:0;}
.box li{margin:0 3px; padding:0;}
.webuploader-pick{background:none;}
</style>
</block>

<block name="body">
		<!--------页面头部--------->
		<header class="container logo02">
				<div class="header-right">
						<ul>
							<li>已有账户，<a href="__ROOT__/Login/login.html">马上登录</a></li>
							<li class="gray">|</li>
							<li><a href="__ROOT__/Index.html">返回二次元界</a></li>
						</ul>
				</div>
		</header>
		<!--------登录页面内容部分--------->
		<div class="container register">
				<div class="retrieve firm">
						<ul class="nextnav">
							<li><a href="__ROOT__/Login/register.html">注册</a></li>
							<li><a href="__ROOT__/Author/pAuthorReg.html">个人作者注册</a></li>
							<li><a href="__ROOT__/Author/eAuthorReg.html">企业作者注册</a></li>
							<li><a href="__ROOT__/Custom/pCustomReg.html">个人订制注册</a></li>
							<li class="nextnavon"><a href="__ROOT__/Custom/eCustomReg.html">企业订制注册</a></li>
						</ul>
						<ul class="login-ul">
						<form action="/2cyj/custom/ecustomreg" method="get" id="form">
								<li class="txt-input name"><span class="input-tle">姓名：</span>
										<input name="name" type="text" placeholder="请输入姓名"  class="gray validate[required,minSize[4],maxSize[16]]" onclick="if(this.value=='请输入姓名'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入姓名';this.className='gray'}">
								</li>
								<li class="txt-input phone"><span class="input-tle">联系电话：</span>
										<input name="phone" id="mobile" type="text" placeholder="请输入联系电话"  class="gray validate[required,custom[phone]]" onclick="if(this.value=='请输入联系电话'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入联系电话';this.className='gray'}">
								</li>
								<li class="txt-input address"><span class="input-tle">联系地址：</span>
										<input name="address" type="text" placeholder="请输入联系地址"  class="gray validate[required]" onclick="if(this.value=='请输入联系地址'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入联系地址';this.className='gray'}">
								</li>
								<li class="txt-input password"><span class="input-tle">密码：</span>
										<input name="password" type="text" placeholder="请输入密码"  class="gray validate[required]" onclick="if(this.value=='请输入密码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入密码';this.className='gray'}">
								</li>
								<li class="txt-input confirm"><span class="input-tle">&nbsp;</span>
										<input name="confirm" type="text" placeholder="请确认密码"  class="gray validate[required]" onclick="if(this.value=='请确认密码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请确认密码';this.className='gray'}">
								</li>
								<li class="txt-input mail"><span class="input-tle">邮箱地址：</span>
										<input name="mail" type="text" placeholder="请输入邮箱地址"  class="gray validate[required,custom[email]]" onclick="if(this.value=='请输入邮箱地址'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入邮箱地址';this.className='gray'}">
								</li>
								<li class="txt-input company"><span class="input-tle">公司名称：</span>
										<input name="company" type="text" placeholder="请输入公司名称"  class="gray validate[required]" onclick="if(this.value=='请输入公司名称'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入公司名称';this.className='gray'}">
										<span class="prompt">公司名称是您唯一的名称注册后将不可修改，请您谨慎填写</span> </li>
								<li class="txt-input scope"><span class="input-tle">经营范围：</span>
										<input name="scope" type="text" placeholder="请输入经营范围"  class="gray" onclick="if(this.value=='请输入经营范围'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入经营范围';this.className='gray'}">
								</li>
								<li class="txt-input produc"><span class="input-tle">主要产品：</span>
										<input name="produc" type="text" placeholder="请输入主要产品"  class="gray" onclick="if(this.value=='请输入主要产品'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入主要产品';this.className='gray'}">
								</li>
								<li class="txt-input user"><span class="input-tle">目标用户：</span>
										<input name="user" type="text" placeholder="请输入目标用户"  class="gray" onclick="if(this.value=='请输入目标用户'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入目标用户';this.className='gray'}">
								</li>
								<li class="txt-input idea"><span class="input-tle">经营理念：</span>
										<input name="idea" type="text" placeholder="请输入经营理念"  class="gray" onclick="if(this.value=='请输入经营理念'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入经营理念';this.className='gray'}">
								</li>
								<li class="txt-input permit"><span class="input-tle">营业执照：</span> 
									<div class="box">
										<div id="flieinput" ></div>
									</div>	
									<span id ="inputhidden"></span>	
								</li>	
								<li class="txt-input verify"><span class="input-tle">验证码：</span> <span class="verify-span">
										<input name="verify" type="text" placeholder="请输入验证码"  class="gray validate[required]" onclick="if(this.value=='请输入验证码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请输入验证码';this.className='gray'}">
										<input name="sendcode" type="button" value="验证码" id="sendcode">
										</span> </li>
								<li class="txt-input invite"><span class="input-tle">邀请码：</span>
										<input name="invite" type="text" placeholder="请确认邀请码"  class="gray" onclick="if(this.value=='请确认邀请码'){this.value='';this.className='black'}" onblur="if(this.value=='') {this.value='请确认邀请码';this.className='gray'}">
										<span class="prompt">通过您的好友邀请，输入邀请码如没有邀请码则不用填写</span></li>
								<li class="auto">
										<input name="ready" type="checkbox" value="1" checked class="validate[required]">
										<span></span>我已阅读并接受<a href="#">版权声明</a>和<a href="#">隐私保护</a>条款</li>
								<li class="txt-input">
										<input class="retrieve-btn" name="" type="button" value="马上注册">
								</li>
						</form>
						</ul>
				</div>
		</div>
		<!--------页面底部--------->
<script type="text/javascript">
$('.retrieve-btn').click(function(){
	$('#form').validationEngine(); 
	//勾选的标签赋值
	$('.label-check li').each(function(i,e){
		var tag_id = $('#tags').val();
		if($(e).attr('class') == 'checkon'){
			tag_id += $(e).attr('log')+ ',';
			$('#tags').val(tag_id);
		}
	});
	
	$('#form').submit();
})

//上传营业执照
$('#flieinput').diyUpload({
	url:'/2cyj/Author/upload',
	success:function( data ) {
		$("#inputhidden").append("<input type='hidden' name='sht'  value="+data.result+'.'+data.postfix+" />");
		/* console.info( data ); */
	},
	error:function( err ) {
		console.info( err );	
	},	buttonText : "<span class='permit-img' width='462px'><img alt='企业营业执照' class='zw-img' src='__IMG__/img02.gif'/></span>",
	chunked:true,
	// 分片大小
	chunkSize:512 * 1024,
	//最大上传的文件数量, 总文件大小,单个文件大小(单位字节);
	fileNumLimit:10,
});

//发送验证码
$("#sendcode").click(function(){
	var mcode=$("#mobile").val();
	if(mcode=="请输入手机号"){
		alert("请输入手机号");
	}else{
		$.post("__ROOT__/Login/sendCode", {mobile: mcode},
				function (data) {
					alert(data);
				});
	}


});
</script>
</block>
